# URL INFO LOOKUP
Author: Hamza Kamal

# Set Up

## Using Poetry (Recommended)
1. Clone this repository
2. Navigate to the repository
3. Check if you have Poetry installed on your machine through `poetry --version`
   1. If you don't have Poetry installed, install it through following these instructions: [Install Poetry](https://python-poetry.org/docs/#installation)
4. Run `poetry install` in the repository's root.

## Using Pip
1. Run the following commands to install all the required python packages for the project:
   1. `pip install fastapi`
   2. `pip install uvicorn`
   3. `pip install httpx`

# Usage

1. Go to the root of the repository
2. Run the web server:
   1. Using Poetry: `poetry run uvicorn http_proxy.main:app --reload`

Example usage. For details on the usage of the API see the Docs section below.
1. GET: `http://127.0.0.1:8000/v1/urlinfo/?resource_url_with_query_string=www.google.com`
2. POST: 
```
curl -X 'POST' \
  'http://127.0.0.1:8000/urlset/' \
  -H 'accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{
  "url": "www.facebook.com",
  "allowed": true
}'
```

# Docs

The docs have been automatically generated by FastAPI. To access them, run the web-server following the instructions in [Usage](#usage) and enter in the following URL:
`http://127.0.0.1:8000/docs`

FastAPI docs also have a built in sandbox where you can execute GET and POST requests within the browser.


# Testing
Within the `httpx_proxy` directory, run the command `poetry run pytest`. The tests can be found within `test_main.py`